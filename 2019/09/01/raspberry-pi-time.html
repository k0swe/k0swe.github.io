<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Raspberry Pi Time | K0SWE Blog</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Raspberry Pi Time" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Events and projects for amateur radio operator K0SWE, a.k.a. Chris." />
<meta property="og:description" content="Events and projects for amateur radio operator K0SWE, a.k.a. Chris." />
<link rel="canonical" href="https://k0swe.radio/2019/09/01/raspberry-pi-time.html" />
<meta property="og:url" content="https://k0swe.radio/2019/09/01/raspberry-pi-time.html" />
<meta property="og:site_name" content="K0SWE Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-09-01T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Raspberry Pi Time" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-09-01T00:00:00+00:00","datePublished":"2019-09-01T00:00:00+00:00","description":"Events and projects for amateur radio operator K0SWE, a.k.a. Chris.","headline":"Raspberry Pi Time","mainEntityOfPage":{"@type":"WebPage","@id":"https://k0swe.radio/2019/09/01/raspberry-pi-time.html"},"url":"https://k0swe.radio/2019/09/01/raspberry-pi-time.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://k0swe.radio/feed.xml" title="K0SWE Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">K0SWE Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about">About</a><a class="page-link" href="/army">Army</a><a class="page-link" href="/links">Links</a><a class="page-link" href="/pipat">PiPat</a><a class="page-link" href="/winlink-in-a-box">Winlink in a Box</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Raspberry Pi Time</h1>
    <p class="post-meta"><time
        class="dt-published"
        datetime="2019-09-01T00:00:00+00:00"
        itemprop="datePublished"
      >
        Sep 1, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody"><p><img src="/assets/clock12.gif" alt="Clock showing 12:00" /></p>

<p>One thing that bugs me when working with Raspberry Pis is that they don’t have a real-time clock (
RTC), so when you remove power, the system clock stops. This isn’t a problem when you’re
internet-connected, because <code class="language-plaintext highlighter-rouge">ntpd</code> will just go out to the internet and fetch the current time.
However, when working in the field, the lack of an RTC causes Winlink emails and application logs to
have the wrong time stamps, which is annoying at best.</p>

<p>I did a little research into using my GPS module to update the system clock. Apparently that is
<a href="https://gpsd.gitlab.io/gpsd/gpsd-time-service-howto.html#_feeding_ntpd_from_gpsd">supported by <code class="language-plaintext highlighter-rouge">ntpd</code></a>,
but the documentation on it assumed a much deeper knowledge of NTP than I have, and it’s not clear
it even works in a non-internet-connected situation. It also uses a protocol called <code class="language-plaintext highlighter-rouge">1PPS</code>, which
has to be supported by the GPS hardware as well as the kernel. That’s too much work for me to track
down right now.</p>

<p>But another option presented itself: Adafruit sells
<a href="https://www.adafruit.com/product/4282">add-on RTC modules</a> which use the Pi’s I2C bus. I picked one
up, and it didn’t take too much fiddling to get it working. Hooray for accurate time in the field!</p>
</div>

  <div class="post-nav">
    <p>
      
      <a href="/2019/08/18/raspberry-pi-direwolf.html">&#8672;&nbsp;Raspberry Pi and Dire Wolf</a>
      
    </p>
    <p>
      
      <a href="/2019/09/16/winlink.html">Winlink on Windows&nbsp;&#8674;</a>
      
    </p>
  </div><a class="u-url" href="/2019/09/01/raspberry-pi-time.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">K0SWE Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">K0SWE Blog</li><li><a class="u-email" href="mailto:k0swe@arrl.net">k0swe@arrl.net</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/xylo04"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">xylo04</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Events and projects for amateur radio operator K0SWE, a.k.a. Chris.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
