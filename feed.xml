<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.5">Jekyll</generator><link href="https://k0swe.radio/feed.xml" rel="self" type="application/atom+xml" /><link href="https://k0swe.radio/" rel="alternate" type="text/html" /><updated>2025-03-03T23:42:13+00:00</updated><id>https://k0swe.radio/feed.xml</id><title type="html">K0SWE Blog</title><subtitle>Events and projects for amateur radio operator K0SWE, a.k.a. Chris.</subtitle><entry><title type="html">Home Assistant</title><link href="https://k0swe.radio/2024/05/09/home-assistant.html" rel="alternate" type="text/html" title="Home Assistant" /><published>2024-05-09T00:00:00+00:00</published><updated>2024-05-09T00:00:00+00:00</updated><id>https://k0swe.radio/2024/05/09/home-assistant</id><content type="html" xml:base="https://k0swe.radio/2024/05/09/home-assistant.html"><![CDATA[<p>In a slight departure from my usual amateur radio topics, I’ve been busy setting up more smart home
stuff. I’ve been curious about home automation for several years and slowly accumulating things like
Google Home speakers, Leviton dimmer switches and Nest outdoor cameras. However, using the Google
Home app as the central integration point and relying on WiFi for communication for everything has
been showing its limitations lately.</p>

<p>Enter <a href="https://www.home-assistant.io/">Home Assistant</a>, an open-source home automation platform that
focuses on local control and privacy. I have several work friends that have rave reviews of Home
Assistant, so I decided to give it a try. This has required revamping a lot of my basic home IT
infrastructure: I picked up a used workstation from
<a href="https://www.theserverstore.com/">The Server Store</a> to use as a home lab server (for more than just
HA), and have replaced my Google WiFi mesh network with a Unifi setup. To add communication options,
I also picked up a <a href="https://www.amazon.com/gp/product/B01GJ826F8">GoControl HUSBZB-1</a> USB stick that
supports both Zigbee and Z-Wave.</p>

<p>From there, I’ve been setting up Home Assistant on the server, adding integrations for existing
devices and services, and adding new devices. Most things have been wonderfully easy. Considering
it’s open source, Home Assistant is really well polished in terms of usability and seamless
integration. I’ve added quite a few ThirdReality Zigbee devices like
<a href="https://www.amazon.com/gp/product/B09MVKWBFF/">motion</a>,
<a href="https://www.amazon.com/gp/product/B09XCWRHCT/">door</a>, and
<a href="https://www.amazon.com/gp/product/B0BLTNZSQK/">temperature</a> sensors,
<a href="https://www.amazon.com/gp/product/B0BPY5D1KC/">wall plugs</a>, and some
<a href="https://www.amazon.com/gp/product/B08428JSDZ/">Innr color light bulbs</a>. I was even pleasantly
surprised to see that my OctoPi 3D printer server popped right in!</p>

<p>I have some overriding goals for my smart home:</p>

<ol>
  <li>Value add. Walking into a room turns on the lights, saving effort; the lights turn off when no
one is there, saving energy. Notifications let us know when the garage door is left open or when
the girls have dance class. The thermostat prioritizes rooms that are actually in use.</li>
  <li>Spouse-approved. I don’t want to make things more complicated for my family or guests. Everything
should be intuitive and reliable.</li>
  <li>Fail-open operation. I don’t want to have to worry about my home being unusable if a sensor, the
internet, WiFi or local HA server are down. Wall switches and the thermostat still need to do
their basic job. Everything needs to revert to a dumb appliance in the absence of smart control.</li>
</ol>

<p>I wonder how hard it would be to add ham radio info to Home Assistant? “There’s DX on 20m…”</p>]]></content><author><name></name></author><summary type="html"><![CDATA[In a slight departure from my usual amateur radio topics, I’ve been busy setting up more smart home stuff. I’ve been curious about home automation for several years and slowly accumulating things like Google Home speakers, Leviton dimmer switches and Nest outdoor cameras. However, using the Google Home app as the central integration point and relying on WiFi for communication for everything has been showing its limitations lately.]]></summary></entry><entry><title type="html">Foxhunt</title><link href="https://k0swe.radio/2024/04/15/foxhunt.html" rel="alternate" type="text/html" title="Foxhunt" /><published>2024-04-15T00:00:00+00:00</published><updated>2024-04-15T00:00:00+00:00</updated><id>https://k0swe.radio/2024/04/15/foxhunt</id><content type="html" xml:base="https://k0swe.radio/2024/04/15/foxhunt.html"><![CDATA[<p><img src="/assets/2024-04-14-foxhunt-lunch.jpg" alt="Foxhunt lunch" /></p>

<p>Yesterday, RMHAM hosted their first big ARDF foxhunt in a while. I’ve run two foxhunts for high
school students before, but this is the first city-scale foxhunt I’ve participated in.</p>

<p>In addition to the traditional tools of the trade, an HT, yagi and offset attenuator, I was using
something special: a KrakenSDR. The receiver consists essentially of five RTL-SDR dongles (five sets
of R820T2 and RTL2832U chips) tied to a signle clock source, which lets it calculate the direction
of arrival (DOA) of signals. Instead of jumping out of the car and spinning around with the yagi, I
can just drive around and let the Kraken sample every few seconds. Even if each sample is not quite
as accurate, the Kraken can take many more samples and average them to get a more accurate result.</p>

<p>Yesterday morning as the event started, I felt good about my chances of being successful. When the
fox started transmitting, I was able to get some pings and start driving generally towards it. I
wish I’d had a separeate driver with me so I could focus on the Kraken, but as it was, I sort of
noticed the Kraken’s predicted target was jumping around a little bit as the samples came in. After
a couple of miles of driving I turned on the turn-by-turn navigation in the Kraken app and started
following it. The pings kept getting stronger, and I was getting closer. Eventually I turned into a
suburban neighborhood that was a rabbit-warren of criss-crossing roads; if I had been using the yagi
I would have had a very hard time. But the Kraken knew where the fox was and the navigation was
spot-on.</p>

<p>The fox was located at a house that was only obvious because of the antennas on the roof. I parked,
rang the doorbell, and sure enough, this was the place! I was the first one to find the fox. John
<code class="language-plaintext highlighter-rouge">W0VG</code> and Mark <code class="language-plaintext highlighter-rouge">N0OHJ</code> hadn’t even finished getting their coffee yet. I was pretty proud of myself.</p>

<p>Admittedly, this was designed to be an easy foxhunt. The fox was transmitting at 20W from a pretty
high location, without any tricky terrain. Robert <code class="language-plaintext highlighter-rouge">N0CFM</code> talked about some of the foxhunts he’s
run, and one in particular where he was transmitting from a low canyon and the signal was bouncing
off a rock formation outside the search boundary. That would be a lot harder to find even with the
Kraken. Still, have to start somewhere!</p>]]></content><author><name></name></author><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">ColMon</title><link href="https://k0swe.radio/2024/01/29/colmon.html" rel="alternate" type="text/html" title="ColMon" /><published>2024-01-29T00:00:00+00:00</published><updated>2024-01-29T00:00:00+00:00</updated><id>https://k0swe.radio/2024/01/29/colmon</id><content type="html" xml:base="https://k0swe.radio/2024/01/29/colmon.html"><![CDATA[<p><img src="/assets/cornell-ashen-cabin.jpg" alt="Cornell Ashen Cabin" /></p>

<p>I’m beginning a project with Willem <code class="language-plaintext highlighter-rouge">AC0KQ</code> to build an AllMon replacement for the Colorado
Connection. The <a href="https://colcon.org">Colorado Connection</a> is a network of
<a href="https://allstarlink.org/">AllStarLink</a> linked analog repeaters spanning across the state of
Colorado. It’s a great resource for hams in the state, but the
<a href="https://community.allstarlink.org/c/allmon/13">AllMon</a> web interface is a bit dated. We’re calling
our replacement ColMon, and it will be customized to our needs.</p>

<p>Willem built a working prototype before I joined the project. We’ve worked together a little bit in
the past, and I respect him a lot, so I’m excited to be working with him on this project. That said,
we come from different generations of programming. Willem’s systems are usually written in C or
Perl, using Apache CGI for dynamic web pages and hand-rolled HTML, CSS and JavaScript, and plaintext
protocols with tab-separated fields and newline record separators. I’m more comfortable using
Angular TypeScript and Golang, with a preference for REST APIs and JSON.</p>

<p>The analogy I’ve landed on is that he’s used to hand-crafting beautiful log cabins, while I’m ready
to bring in the house-sized 3D printer. Is either approach better or worse? No, they both have pros
and cons, but we’ll both have to get out of our comfort zones and work together to find a middle
ground where we can both be productive.</p>

<p>With some luck, our skills together will come up with a beautiful and innovative fusion like the
<a href="https://news.cornell.edu/stories/2020/05/cabin-project-upcycles-ash-trees-sustainable-architecture">Cornell Ashen Cabin</a>.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Starting with SATRAN</title><link href="https://k0swe.radio/2023/11/25/rotator.html" rel="alternate" type="text/html" title="Starting with SATRAN" /><published>2023-11-25T00:00:00+00:00</published><updated>2023-11-25T00:00:00+00:00</updated><id>https://k0swe.radio/2023/11/25/rotator</id><content type="html" xml:base="https://k0swe.radio/2023/11/25/rotator.html"><![CDATA[<p><img src="/assets/satran-grey.jpg" alt="SATRAN" /></p>

<p>Way back in 2019 I got an <a href="https://k0swe.radio/2019/11/22/amsat-ariss.html">introduction to AMSAT</a>,
and have been interested in making contacts ever since. I picked up an Arrow antenna,
<a href="https://k0swe.radio/2019/12/04/baby-steps-toward-ariss.html">collected some telemetry</a>, and even
tried making QSOs once, but the extreme level of multitasking was overwhelming. The one thing I’ve
been really keen to automate has been tracking: keeping the antenna pointed at the satellite
throughout its pass. Automating that part requires an azimuth-elevation (az/el) rotator. The most
well-known option for that is the Yaesu G-5500 rotator which retails new for about $700, too
expensive to justify using once or twice while I see if I enjoy working AMSAT regularly. I’ve kept
my eyes open for lighter-weight options, and one that stuck out was <a href="https://satran.io">SATRAN</a> by
Daniel Nikolajsen, <code class="language-plaintext highlighter-rouge">SM7YSA</code>. For a while, it was sold as a kit, but mainly in Europe and explicitly
not to the US or Canada.</p>

<p>Well, it seems SATRAN is no longer being sold as a kit, but the plans to build it are available, so
I’ve finally decided to build my own. Daniel published pretty much everything necessary to get it
going: STL files to 3D print the enclosure, Gerber files to order PCBs, scale drawings to cut sheet
metal parts, and firmware code. I’ve spent some time reverse-engineering which electrical components
need to go on the PCBs, as well as started prepping and 3D printing the housing. For the two sheet
metal parts, there’s a service called OSH Cut that I think I’ll try. They seem to be tangentially
related to OSH Park who I’ve used in the past for PCBs. However, Daniel only published PDF printable
templates, not DXF CAD drawings, so I’ll have to redraw those in CAD to be able to send them off.</p>

<p>It might take a while to gather all of the different bits and pieces of this project, but I think it
will be rewarding to put together, especially if it gives me a workable AMSAT tool in the end!</p>]]></content><author><name></name></author><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">ARRL Rocky Mountain Division Convention in Albuquerque</title><link href="https://k0swe.radio/2023/08/14/albuquerque.html" rel="alternate" type="text/html" title="ARRL Rocky Mountain Division Convention in Albuquerque" /><published>2023-08-14T00:00:00+00:00</published><updated>2023-08-14T00:00:00+00:00</updated><id>https://k0swe.radio/2023/08/14/albuquerque</id><content type="html" xml:base="https://k0swe.radio/2023/08/14/albuquerque.html"><![CDATA[<p>This year’s ARRL Rocky Mountain Division Convention was this past weekend in Albuquerque. The
original planners had backed out a couple of months before their event, so the Rocky Mountain Ham
New Mexico team quickly threw together a replacement event. I attended both because I had never been
to a division convention before, plus to be an extra hand to the RMHAM NM team.</p>

<p>There was meant to be a <a href="https://en.wikipedia.org/wiki/Very_Large_Array">Very Large Array</a> tour the
Friday before the event, but unfortunately that was cancelled due to a power outage. Instead, many
of the RMHAM Colorado folks and I travelled a short way to Los Alamos to experience the Bradbury
Museum and the Fuller Lodge.</p>

<p>After that, the event proper was underway.</p>

<p><img src="/assets/2023-08-11_22-48_tribander.JPG" alt="Setting up the tribander antenna for the event station" /></p>

<p><img src="/assets/2023-08-12_06-28_st-pius-x.JPG" alt="Most of the event was at the beautiful campus of Saint Pius X Catholic High School" /></p>

<p><img src="/assets/2023-08-12_07-19_event-station.JPG" alt="Setting up the event station in the morning" /></p>

<p><img src="/assets/2023-08-12_07-30_brian.JPG" alt="Brian `N5ZGT` was the event director" /></p>

<p><img src="/assets/2023-08-12_07-42_registration.JPG" alt="Warm welcomes at the registration table" /></p>

<p><img src="/assets/2023-08-12_08-32_event-station.JPG" alt="Operating the special event station" /></p>

<p><img src="/assets/2023-08-12_hamfest.png" alt="Treasures to be found at the swap meet" /></p>

<p><img src="/assets/2023-08-12_08-34_prize-table.JPG" alt="Everyone's excited for the prizes" /></p>

<p><img src="/assets/2023-08-12_12-58-classroom.jpg" alt="A great slate of interesting classes" /></p>

<p><img src="/assets/2023-08-12_19-25-banquet.jpeg" alt="At the banquet dinner we got to hear about the challenging Bouvet Island DXpedition" /></p>

<p><img src="/assets/2023-08-13_07-11_balloons.JPG" alt="Beautiful hot air balloons as a very Albuquerque background" /></p>]]></content><author><name></name></author><summary type="html"><![CDATA[This year’s ARRL Rocky Mountain Division Convention was this past weekend in Albuquerque. The original planners had backed out a couple of months before their event, so the Rocky Mountain Ham New Mexico team quickly threw together a replacement event. I attended both because I had never been to a division convention before, plus to be an extra hand to the RMHAM NM team.]]></summary></entry><entry><title type="html">Field Day</title><link href="https://k0swe.radio/2023/06/26/field-day.html" rel="alternate" type="text/html" title="Field Day" /><published>2023-06-26T00:00:00+00:00</published><updated>2023-06-26T00:00:00+00:00</updated><id>https://k0swe.radio/2023/06/26/field-day</id><content type="html" xml:base="https://k0swe.radio/2023/06/26/field-day.html"><![CDATA[<p>I’m just coming back from another fabulous Field Day spent with RMHAM! Words hardly do the event
justice, so take a look at some of the pictures!</p>

<p><img src="/assets/2023-06-23_19-03.jpg" alt="Hanging out in the afternoon" /></p>

<p><img src="/assets/2023-06-24_13-35.jpg" alt="Kaylee on GOTA with me" /></p>

<p><img src="/assets/2023-06-24_19-07.jpg" alt="Kaylee on GOTA with Lisa" /></p>

<p><img src="/assets/2023-06-25_08-33.jpg" alt="QRV with the FT8 station" /></p>

<p><img src="/assets/2023-06-25_09-34.jpg" alt="Satellite station with the bunk trailer in the background" /></p>

<p><img src="/assets/2023-06-26_21-17.jpg" alt="Ava and I taking a sunset stroll" /></p>

<p><img src="/assets/2023-06-24-field-day-crew.jpg" alt="The whole RMHAM Field Day crew" /></p>

<p>This was my family’s first RV trip, so we rented from Cruise America and had a wonderful time. This
was also my first time taking the entire clan up to Field Day. I got all of them on the Get On The
Air (GOTA) station to make a few contacts, and my older daughter is seriously hooked! She made
almost 30 QSOs and probably would have kept going if there had been time.</p>

<hr />

<p>Edit: John <code class="language-plaintext highlighter-rouge">W0VG</code> posted a video, <a href="https://www.youtube.com/watch?v=hXDzzWUICxc">check it out</a>!</p>]]></content><author><name></name></author><summary type="html"><![CDATA[I’m just coming back from another fabulous Field Day spent with RMHAM! Words hardly do the event justice, so take a look at some of the pictures!]]></summary></entry><entry><title type="html">Catalog Progress</title><link href="https://k0swe.radio/2023/05/26/catalog-progress.html" rel="alternate" type="text/html" title="Catalog Progress" /><published>2023-05-26T00:00:00+00:00</published><updated>2023-05-26T00:00:00+00:00</updated><id>https://k0swe.radio/2023/05/26/catalog-progress</id><content type="html" xml:base="https://k0swe.radio/2023/05/26/catalog-progress.html"><![CDATA[<p>I’ve been plugging away at the <a href="/2023/03/29/catalog.html">ARES Catalog</a> project. After negotiating
some clearer requirements, I set out building a prototype with <a href="https://nextjs.org/">Next.JS</a>.</p>

<p>For the database, I started out with <a href="https://www.postgresql.org/">Postgres</a> using the
<a href="https://www.prisma.io/nextjs">Prisma</a> library. I experimented at first with writing my own Next.JS
server-side API, then using <a href="https://github.com/premieroctet/next-crud">Next-CRUD</a> to generate the
API. Ultimately, I abandoned this whole line of development because I realized that Postgres was
costing me too much money for a scale-to-zero project. Since then, I switched the Next.JS app to use
<a href="https://www.mongodb.com/">MongoDB</a> via the <a href="https://mongoosejs.com/">Mongoose</a> library.</p>

<p>The app’s core functionality has been coming along. I’ve imported the ICS 217s from Ben’s
spreadsheets into the database and can display those, both in nice web tables as well as a printable
view that closely matches the printed forms. Still, I can’t help but feel like my progress has been
much slower trying to learn React than if I’d stayed in my comfort zone with Angular. React just
hasn’t “clicked” for me yet.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[I’ve been plugging away at the ARES Catalog project. After negotiating some clearer requirements, I set out building a prototype with Next.JS.]]></summary></entry><entry><title type="html">ARES Catalog</title><link href="https://k0swe.radio/2023/03/29/catalog.html" rel="alternate" type="text/html" title="ARES Catalog" /><published>2023-03-29T00:00:00+00:00</published><updated>2023-03-29T00:00:00+00:00</updated><id>https://k0swe.radio/2023/03/29/catalog</id><content type="html" xml:base="https://k0swe.radio/2023/03/29/catalog.html"><![CDATA[<p>It seems I’ve been roped into another project. Colorado ARES section leaders want to create a
catalog of important information for use by ARES groups across the state. It will include things
like ICS 217s describing all of the repeaters and channels used by each group, ICS 205s to break
those channels down per-event, and ICS 205As with contact information of event personnel. I’ve been
tasked with creating a web application to collect and display this information. I’m just one of
several people working on this project, but I’m the only one with web development experience. Ben
<code class="language-plaintext highlighter-rouge">KB0UBZ</code> is technically savvy and is willing to help collect and massage data. Our subject matter
experts are Joe <code class="language-plaintext highlighter-rouge">KD0TYU</code> and Randy <code class="language-plaintext highlighter-rouge">N0OEM</code>.</p>

<p>At this point, we’re really trying to narrow down exactly what we’re trying to build in the first
place. Willem <code class="language-plaintext highlighter-rouge">AC0KQ</code> pitched this project to me as somthing to fill out complete Incident Action
Plans with many ICS forms, but Joe and Randy’s vision for this as a catalog is quite different. I
think we’ll start with the bare minimum, just publishe ICS 217s organized by ARES group, and then
build from there.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[It seems I’ve been roped into another project. Colorado ARES section leaders want to create a catalog of important information for use by ARES groups across the state. It will include things like ICS 217s describing all of the repeaters and channels used by each group, ICS 205s to break those channels down per-event, and ICS 205As with contact information of event personnel. I’ve been tasked with creating a web application to collect and display this information. I’m just one of several people working on this project, but I’m the only one with web development experience. Ben KB0UBZ is technically savvy and is willing to help collect and massage data. Our subject matter experts are Joe KD0TYU and Randy N0OEM.]]></summary></entry><entry><title type="html">Grandstream Phone</title><link href="https://k0swe.radio/2023/03/18/grandstream.html" rel="alternate" type="text/html" title="Grandstream Phone" /><published>2023-03-18T00:00:00+00:00</published><updated>2023-03-18T00:00:00+00:00</updated><id>https://k0swe.radio/2023/03/18/grandstream</id><content type="html" xml:base="https://k0swe.radio/2023/03/18/grandstream.html"><![CDATA[<p>As a follow-up to my <a href="/2023/03/03/pbx.html">previous post</a> on IP phones, I picked up a
<a href="https://www.amazon.com/gp/product/B00VNMWRFK/">Grandstream GXP1625</a> for still pretty cheap. Let me
tell you how much easier it was to set up with both FreePBX and Hamshack Hotline! The phone has a
web interface, and it was a breeze to configure. I didn’t have to mess with XML files or TFTP
servers. I pointed the phone at Hamshack Hotline and my own experimental FreePBX server, and it just
worked. So much easier than the Cisco phone.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[As a follow-up to my previous post on IP phones, I picked up a Grandstream GXP1625 for still pretty cheap. Let me tell you how much easier it was to set up with both FreePBX and Hamshack Hotline! The phone has a web interface, and it was a breeze to configure. I didn’t have to mess with XML files or TFTP servers. I pointed the phone at Hamshack Hotline and my own experimental FreePBX server, and it just worked. So much easier than the Cisco phone.]]></summary></entry><entry><title type="html">Getting started with Hamshack Hotline and FreePBX</title><link href="https://k0swe.radio/2023/03/03/pbx.html" rel="alternate" type="text/html" title="Getting started with Hamshack Hotline and FreePBX" /><published>2023-03-03T00:00:00+00:00</published><updated>2023-03-03T00:00:00+00:00</updated><id>https://k0swe.radio/2023/03/03/pbx</id><content type="html" xml:base="https://k0swe.radio/2023/03/03/pbx.html"><![CDATA[<p>I’ve used VoIP a couple of times in conjuction with ham radio for supporting public events; some
troubleshooting problems lend themselves to full duplex communication better than PTT radios. Until
now I hadn’t really considered setting up something for myself, but then I learned about
<a href="https://hamshackhotline.com/">Hamshack Hotline</a>. It’s a collective of VoIP geeks running their own
phone network, and it even has links into RF repeaters and such. Neat!</p>

<p>HH keeps a list of
<a href="https://wiki.hamshackhotline.com/doku.php?id=kb:supported.endpoints">fully supported devices</a>, but
I was somewhat drawn to an unsupported device, a Cisco 7900 series, for nostalgic reasons (it’s what
I supported in the Army) as well as cost (~$20 on eBay). Because of this, I was directed down the
road of setting up my own local PBX with a trunk connection to HH. How hard could that be?</p>

<h2 id="freepbx-initial-setup">FreePBX initial setup</h2>

<p>Download https://www.freepbx.org/. I used the ISO image to create a VM for testing. Create an admin
account and do basic configuration.
<a href="https://www.youtube.com/playlist?list=PL1fn6oC5ndU_umAhL9A_1zkC90hMPDPNO">This YouTube series</a> goes
in-depth about the entire process.</p>

<p>Then add some phone extensions. <a href="https://youtu.be/ME1fCwJNes8">This video on creating extensions</a>
was particularly useful. I also found it very helpful to register a couple of software phone
clients, which were relatively easy, before moving on to dealing with Cisco “legacy” hardware
issues.</p>

<h2 id="cisco-7965g-setup">Cisco 7965G setup</h2>

<p><img src="/assets/cisco-7965.jpg" alt="Cisco 7965" /></p>

<p>Download
<a href="https://software.cisco.com/download/home/281346596/type/282074288/release/9.4(2)SR3">SIP Firmware</a>.
You need SIP firmware. Some folks advise to use v8 or v9, but both worked for me. You need the
“firmware files only” zip file. Unzip the files.</p>

<p>The firmware files need to be served by a TFTP server. I used <code class="language-plaintext highlighter-rouge">tftpd-hap</code> on my workstation.</p>

<p>Your DHCP server needs to advertise the TFTP server. My DHCP server is running on my MikroTik
router. At first I tried setting “DHCP option 150,” but that didn’t seem to work; I could see in
MikroTik WinBox that the phone kept rejecting DHCP offers. Instead I set the “next-server” option,
which worked.</p>

<p>Follow the steps below to factory reset your Cisco IP phone and get it to download the new firmware.
Here’s a <a href="https://youtu.be/xcpJFfuSh7g">good video</a>.</p>

<ol>
  <li>Unplug the power cable from the IP phone and then plug it back in.</li>
  <li>While the phone is powering up, and before the speaker button flashes on and off, press and hold
the pound # key.</li>
  <li>Continue to hold # until each line button (right of the LCD screen) flashes on and off in
sequence in orange color.</li>
  <li>Now release the pound # key and type the following sequence <code class="language-plaintext highlighter-rouge">123456789*0#</code></li>
</ol>

<p>(On the first phone I tried, I had a hardware issue: I’d start typing the 123… sequence and the
phone would start booting normally before I could finish. Luckily, I bought two, and the other phone
behaved as intended.)</p>

<p>The phone should show “Upgrading” and the MAC address on the screen. It will download the firmware
files one by one and show its progress. After the last file is downloaded, the phone will reboot and
the firmware upgrade is complete.</p>

<p>At this point, you need to configure the phone by downloading and modifying an
<a href="https://usecallmanager.nz/sepmac-cnf-xml.html">XML file</a>, renaming it to <code class="language-plaintext highlighter-rouge">SEP{MAC_ADDRESS}.cfg.xml</code>
and putting that on your TFTP server. The XML file at a minimum needs to specify the SIP server
address, username and password. Many other config options are available. As I was iterating on the
config file, I found it useful to modify the value in <code class="language-plaintext highlighter-rouge">&lt;phoneLabel&gt;</code> so I could easily tell if the
phone had downloaded my latest version.</p>

<p>After all this, I was stuck for a while with the Cisco phone unable to register with the FreePBX
server despite having picked up its configuration file. I found advice to find the <code class="language-plaintext highlighter-rouge">force_rport</code>
setting within FreePBX/Asterisk for that phone’s extension advanced settings and turn that setting
“off”; that made it so I could call out from the Cisco phone, but was unable to receive calls. I
also tried enabling TCP for the Asterisk server and forcing that extension to use it; still no dice.</p>

<p>This is where the story takes a turn for the worse: I asked for advice from some of my ham friends,
some of whom are VoIP professionals, and their advice was to abandon all hope. Cisco phones are
apparently very nice in an enterprise setting with their proprietary controller, but are not really
suitable for hobbyists. Yes, they can be made to work, but are not worth the time to set up and keep
running. It’s better, my friends say, to use a desk phone that will work without putting up a fight.
So I guess I’ll try out a Polycom or a Grandstream or something.</p>

<h2 id="conclusions">Conclusions</h2>

<p>I’ve put many hours into this project, and I still don’t have a working connection to Hamshack
Hotline! I guess I’m getting what I paid for. Still, I’ve learned a lot.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[I’ve used VoIP a couple of times in conjuction with ham radio for supporting public events; some troubleshooting problems lend themselves to full duplex communication better than PTT radios. Until now I hadn’t really considered setting up something for myself, but then I learned about Hamshack Hotline. It’s a collective of VoIP geeks running their own phone network, and it even has links into RF repeaters and such. Neat!]]></summary></entry></feed>